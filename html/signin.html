<!DOCTYPE HTML>
<html>
	<head>
		<title>dFood | Log in </title>

		<meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="../images/logo.png" type="image/gif">
        <link rel="stylesheet" href="../css/myTheme1.css" />
        <link rel="stylesheet" href="../css/jquery.mobile.icons.min.css" />
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"> 
        <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script> 
        <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> 

    <style>
    img {
        display: block;
        margin: auto;
        margin-top: 7em;
    }
    #FR {
        border-style: solid;
        border-color: #FB752C;
        border-radius: 8px; 
        padding: 15px ;
    }
    /* Show password icon styling starting*/	
    span {
        position: absolute;
        right: 30px;
        transform: translate(0, -50%);
        top: 37.5%;
        cursor: pointer;
    }
    .fa{
        font-size: 18px;
        color: rgba(251, 117, 44, 0.5);
    }
    .fas{
        font-size: 18px;
        color: rgba(251, 117, 44, 0.5);
    }
    a{
        text-decoration: none;
    }
    /* Show password icon styling finished*/

    </style>
    </head>
    
	<body>
	    <div data-role="page" id="aboutus" data-theme="d">
 
	    <div>

	    <img src="../images/logo.png" class="center" id="logoProfile" width=250 height="145">
	
        </div>
        
            <div data-role="main" class="ui-content main-content">
                <div class="ui-field-contain content">

                    <form method="POST" class="input-form" name="loginForm" onsubmit="return ValidateForm()">

                        <div id="FR" > 
                            <label for="email">Email</label>
                            <input type="email" name="email" id="email" placeholder="Enter your email" required>
                            <div id="email_error"></div>

                            <label for="password">Password</label>
                            <input type="password" name="password" id="password" placeholder="Enter your password" required>
                            <span>
                                <i class="fa fa-eye" aria-hidden="true" id="eye" onclick="toggle_password()"></i>
                            </span> 
                            <div id="password_error"></div>
                        </div>

                        <div>	
                            <p style="float:right;margin:10px; font-size: 14px;"> <a href="#" id="FP">Forget Password?</a> </p>
                        </div>
                        <div>
                        <button class="submit-button" style=" margin-top: 5em;" class="ui-btn ui-corner-all ui-mini" id="LogingBtn" onclick="submitBTN_validate()">Sign in </button>
                        </div>
                    </form>
                
                    <div style="text-align: center;">	
                            <p> New to dFood ? Sign Up as <br> 
                            <a href="#" id="customer">Customer </a> | <a href="#" id="vendor">Vendor</a> <p>
                        
                    </div>
            </div>
        </div>

        <script>
        
        $("#customer").click(function(){
            window.location.href = "signup.html";				
        });

        $("#vendor").click(function(){
            window.location.href = "vendor_signup.html";				
        });


        $("#FP").click(function(){
            window.location.href = "forget_password.html";				
        });
        
        // $(".LogoClass").click(function(){
        // 	window.location.href = "inedx.html";		
        // });

        var email = document.forms['loginForm']['email'];
        var password = document.forms['loginForm']['password'];
        
        var email_error = document.getElementById('email_error');
        var password_error = document.getElementById('password_error');
            
        email.addEventListener('blur', emailVerify, true);
        password.addEventListener('blur', passwordVerify, true);
        
        function emailVerify() {
                // regex to validate the email address
                var re = /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
                
                if (email.value == "") {
                    email.style.border = "1px solid red";
                    email_error.style.color = "red";
                    email_error.style.fontSize = "14px";
                    email_error.style.marginBottom = "10px";
                    email_error.textContent = "Email is required";
                    return false;
                } else if (!re.test(email.value)) {
                    email.style.border = "1px solid red";
                    email_error.style.color = "red";
                    email_error.style.fontSize = "14px";
                    email_error.style.marginBottom = "10px";
                    email_error.textContent = "Invalid email, please re-enter";
                    return false;
                } else {
                    email.style.border = "1px solid #5cb85c";
                    email_error.innerHTML = "";
                    return true;
                }
            }
            
            function passwordVerify() {
                if (password.value == "") {
                    password.style.border = "1px solid red";
                    password_error.style.color = "red";
                    password_error.style.fontSize = "14px";
                    password_error.style.marginBottom = "10px";
                    password_error.textContent = "Password is required";
                    return false;
                } else {
                    password.style.border = "1px solid #5cb85c";
                    password.innerHTML = "";
                    return true;
                }
            }
            
            function toggle_password() {
                var x = document.getElementById("password");
                    if (x.type === "password") {
                        x.type = "text";
                        document.getElementById("eye").className="fas fa-eye-slash";
                    } else {
                        x.type = "password";
                        document.getElementById("eye").className="fa fa-eye";
                    }
            }

            function ValidateForm() {
            
                // Password validation
                if (password.value == "") {
                    password.style.border = "1px solid red";
                    password_error.style.color = "red";
                    password_error.style.fontSize = "14px";
                    password_error.style.marginBottom = "10px";
                    password_error.textContent = "Password is required";
                    password.focus();
                    return false;
                } else{
                    return true;
                }
                
                // regex to validate the email address
                var re = /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;

                // Email validation
                if (email.value == "") {
                    email.style.border = "1px solid red";
                    email_error.style.color = "red";
                    email_error.style.fontSize = "14px";
                    email_error.style.marginBottom = "10px";
                    email_error.textContent = "Email is required";
                    email.focus();
                    return false;
                } else if (!re.test(email.value)) {
                    email.style.border = "1px solid red";
                    email_error.style.color = "red";
                    email_error.style.fontSize = "14px";
                    email_error.style.marginBottom = "10px";
                    email_error.textContent = "Invalid email, please re-enter";
                    email.focus();
                    return false;
                } else{
                    return true;
                }

            }
            
            function submitBTN_validate(){
                var password_validate=passwordVerify();
                var email_validate=emailVerify();
                var form_validate=ValidateForm();

                if(password_validate && email_validate && form_validate ){

                        window.location.href = "MainPage.html";	
                }
        
            }
        
        </script>
	</body>
</html>

